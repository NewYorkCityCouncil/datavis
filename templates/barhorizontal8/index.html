<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>Participatory Budgeting 2017 and 2016</title>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.3/Chart.min.js"></script>

    </head>
    <body>


<canvas id="barhorizontal7" width="100" max-height="1000"></canvas>
<script>

Chart.defaults.global.responsive = true
Chart.defaults.global.legend.display= false
Chart.defaults.global.maintainAspectRatio = true



Chart.defaults.scale = {
		display: true,
		position: "left",

		// grid line settings
		gridLines: {
			display: false,
			color: "rgba(0, 0, 0, 0.1)",
			lineWidth: 1,
			drawBorder: true,
			drawOnChartArea: true,
			drawTicks: true,
			tickMarkLength: 10,
			zeroLineWidth: 1,
			zeroLineColor: "rgba(0,0,0,0.25)",
			offsetGridLines: false
		},

		// scale label
		scaleLabel: {
			// actual label
			labelString: '',

			// display property
			display: false
		},

		// label settings
		ticks: {
			beginAtZero: true,
			minRotation: 0,
			maxRotation: 50,
			mirror: false,
			padding: 10,
			reverse: false,
			display: true,
			autoSkip: false,
			autoSkipPadding: 0,
			labelOffset: 0,
			callback: function(value) {
				return '' + value;
			}
		}
	};

// Chart.defaults.global.defaultFontSize = 10

var ctx = document.getElementById("barhorizontal7");

var myChart = new Chart(ctx, {
    type: 'horizontalBar',
    data: {
        labels: [
          "District 03, Corey Johnson",
          "District 05, Ben Kallos",
          "District 06, Helen Rosenthal",
          "District 07, Mark Levine",
          "District 08, Melissa Mark-Viverito",
          "District 10, Ydanis Rodriguez",
          "District 11, Andy Cohen",
          "District 15, Ritchie Torres",
          "District 16, Vanessa Gibson",
          "District 17, Rafael Salamanca",
          "District 19, Paul Vallone",
          "District 21, Julissa Ferreras-Copeland",
          "District 22, Costa Constantinides",
          "District 23, Barry Grodenchik",
          "District 26, Jimmy Van Bramer",
          "District 27, I. Daneek Miller",
          "District 29, Karen Koslowitz",
          "District 30, Elizabeth Crowley",
          "District 31, Donovan Richards",
          "Distrcit 32, Eric Ulrich",
          "District 33, Stephen Levin",
          "District 34, Antonio Reynoso",
          "District 35, Laurie Cumbo",
          "District 36, Robert Cornegy",
          "District 38, Carlos Menchaca",
          "District 39, Brad Lander",
          "District 39, Brad Lander- Programming ",
          "District 40, Matthieu Eugene",
          "District 44, David Greenfield",
          "District 45, Jumaane Williams",
          "District 47, Mark Treyger",
          "District 49, Deborah Rose",
                ],
        datasets: [{
            label: '2016',
            backgroundColor:"#BE4BDB",
            borderColor: "#eeeeee",
            borderWidth: 1,
            hoverBackgroundColor: "#9E9E9E",
            hoverBorderColor: "#eeeeee",
            data: [2072,1996,2167,1870,4006,2274,1750,2919,0,0,4503,1873,1710,1112,3508,1722,1449,2486,3329,916,1554,5970,1660,684,6320,3100,2997,984,2363,1918,1475,0],
            stack: 1
        },
        {
            label: '2017 Digtal',
            backgroundColor:"#04d418",
            borderColor: "#eeeeee",
            borderWidth: 1,
            hoverBackgroundColor: "#9E9E9E",
            hoverBorderColor: "#eeeeee",
            data: [1604,1913,2206,791,718,807,679,87,123,164,1560,110,1484,979,1077,177,1018,326,392,0,2577,804,1502,976,1071,4651,1075,279,570,88,606],
            stack: 2
        },
        {
          label: '2017 Invalid',
          backgroundColor:"#fa60a1",
          borderColor: "#eeeeee",
          borderWidth: 1,
          hoverBackgroundColor: "#9E9E9E",
          hoverBorderColor: "#eeeeee",
          data: [50,5,14,54,142,109,52,520,99,43,61,151,65,23,105,32,33,36,187,0,32,100,63,32,241,41,31,0,9,31,22],
          stack: 2
        },
        {
          label: '2017 Paper',
          backgroundColor:"#1a1b8d",
          borderColor: "#eeeeee",
          borderWidth: 1,
          hoverBackgroundColor: "#9E9E9E",
          hoverBorderColor: "#eeeeee",
          data: [1914,508,905,1084,3591,2722,1558,3812,1333,841,4654,2730,2133,1033,4048,1695,1484,2081,4407,0,1212,5772,1241,1648,7050,2505,801,2,846,2922,482],
          stack: 2
        },

      ]
    },
    options: {
      scales:{
        xAxes: [{
          stacked: true,
          display: true,
          ticks: {
            beginAtZero: true,
            callback: function(value) {
              return value.toLocaleString('en-US');
            }
          }
        }],
        yAxes: [{
          display: true,
          ticks: {
            beginAtZero: true,
          }
        }]
      },
      tooltips: {
        callbacks: {
/*
          label: function(tooltipItem, data) {
            return '$' + data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index].toLocaleString('en-US');
          },
          */
          title: function(tooltipItems, data) {
					// Pick first xLabel for now
					var title = '';

					if (tooltipItems.length > 0) {
						if (tooltipItems[0].yLabel) {
							title = tooltipItems[0].yLabel;
						} else if (data.labels.length > 0 && tooltipItems[0].index < data.labels.length) {
							title = data.labels[tooltipItems[0].index];
						}
					}

					return title;
				},
				label: function(tooltipItem, data) {
					var datasetLabel = data.datasets[tooltipItem.datasetIndex].label || '';
					return tooltipItem.xLabel.toLocaleString('en-US')+' voters';
				}
        }
      }
    }

});
</script>
    </body>
</html>
