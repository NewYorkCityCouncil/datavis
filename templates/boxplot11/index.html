<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
  <title>Gender and Salary of Uniformed vs Non-Uniformed Agencies</title>
  <link rel="stylesheet" href="./style.css">
  <script src='https://unpkg.com/chart.js@3'></script>
<script src='https://unpkg.com/@sgratzl/chartjs-chart-boxplot@3'></script><script  src="./script.js"></script>
<!--Plugins Help: https://www.chartjs.org/docs/latest/configuration/legend.html-->
</head>
<body>
  <canvas id ="chart" width="800" height="600"></canvas>
  <script>


  function randomValues(count, min, max) {
    const delta = max - min;
    return Array.from({length: count}).map(() => delta + min);
  }

  function randomBoxPlot1(min, max) {
    const values = randomValues(5, min, max).sort((a, b) => a - b);

    return {
      min: 37630,
      q1: 41770,
      median: 77318,
      q3: 77318,
      max: 227164
    };
  }
  function randomBoxPlot2(min, max) {
    const values = randomValues(5, min, max).sort((a, b) => a - b);

    return {
      min: 32520,
      q1: 43901,
      median: 50604,
      q3: 61005,
      max: 154594
    };
  }
  function randomBoxPlot3(min, max) {
    const values = randomValues(5, min, max).sort((a, b) => a - b);

    return {
      min: 44333,
      q1: 52170,
      median: 85292,
      q3: 85292,
      max: 229449
    };
  }
  function randomBoxPlot4(min, max) {
    const values = randomValues(5, min, max).sort((a, b) => a - b);

    return {
      min: 42500,
      q1: 59401,
      median: 85292,
      q3: 90685,
      max: 233506
    };
  }
  function randomBoxPlot5(min, max) {
    const values = randomValues(5, min, max).sort((a, b) => a - b);

    return {
      min: 27446,
      q1: 46355,
      median: 56977,
      q3: 72903,
      max: 236750
    };
  }
  function randomBoxPlot6(min, max) {
    const values = randomValues(5, min, max).sort((a, b) => a - b);

    return {
      min: 37630,
      q1: 50173,
      median: 77318,
      q3: 77318,
      max: 233829
    };
  }
  function randomBoxPlot7(min, max) {
    const values = randomValues(5, min, max).sort((a, b) => a - b);

    return {
      min: 32520,
      q1: 53163,
      median: 85292,
      q3: 85292,
      max: 235139
    };
  }
  function randomBoxPlot8(min, max) {
    const values = randomValues(5, min, max).sort((a, b) => a - b);

    return {
      min: 43042,
      q1: 48371,
      median: 83871,
      q3: 85292,
      max: 225590
    };
  }
  function randomBoxPlot9(min, max) {
    const values = randomValues(5, min, max).sort((a, b) => a - b);

    return {
      min: 42500,
      q1: 63125,
      median: 85292,
      q3: 97324,
      max: 233506
    };
  }
  function randomBoxPlot10(min, max) {
    const values = randomValues(5, min, max).sort((a, b) => a - b);

    return {
      min: 27186,
      q1: 48345,
      median: 67173,
      q3: 91228,
      max: 235526
    };
  }

  const boxplotData = {
    // define label tree
    labels: ['DSNY','FDNY','DOC','NYPD','Non-Uniformed'],
  datasets: [{
    label: 'Female',
    backgroundColor: '#A83226',
    borderColor: '#222222',
    borderWidth: 1,
    padding: 10,
    itemRadius: 1,
    outlierColor: '#999999',
    data: [
      randomBoxPlot1(0,50),
      randomBoxPlot2(0,50),
      randomBoxPlot3(0,50),
      randomBoxPlot4(0,50),
      randomBoxPlot5(0,50),
    ]
  },
  {
    label: 'Male',
    backgroundColor:'#23417D',
    borderColor: '#222222',
    borderWidth: 1,
    padding: 10,
    itemRadius: 1,
    outlierColor: '#999999',
    data: [
      randomBoxPlot6(0,50),
      randomBoxPlot7(0,50),
      randomBoxPlot8(0,50),
      randomBoxPlot9(0,50),
      randomBoxPlot10(0,50)

    ]
  }]
};

const options = {
        responsive: true,
        title: {
          display: true,
          text: 'Chart.js Box Plot Chart',
        },
        minStats: 'min',
        maxStats: 'whiskerMax',
        scales: {
          y:{
            ticks:{
              callback: function(value, index, values) {
                return '$'+value.toLocaleString('en-US');
              },
            }
          }
        },
        plugins: {
            legend: {
                display: true,
              /*  labels: {
                    color: 'rgb(255, 99, 132)'
                }*/
            }
          }
      };

      window.onload = () => {
        const ctx = document.getElementById('chart').getContext('2d');
        let myBar = new Chart(ctx, {
          type: 'boxplot',
          data: boxplotData,
          options: options,
        });

        /*   document.getElementById('limitMinMax').onclick = () => {
          options.boxplot.datasets.minStats = 'min';
          options.boxplot.datasets.maxStats = 'max';
          myBar.destroy();
          myBar = new Chart(ctx, {
            type: 'boxplot',
            data: boxplotData,
            options: options,
          });
        };
     document.getElementById('limitWhiskers').onclick = () => {
          options.boxplot.datasets.minStats = 'whiskerMin';
          options.boxplot.datasets.maxStats = 'whiskerMax';
          myBar.destroy();
          myBar = new Chart(ctx, {
            type: 'boxplot',
            data: boxplotData,
            options: options,
          });
        };*/
      };

</script>
</body>
</html>
