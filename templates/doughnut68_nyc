<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>NYC Energy Source</title>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.3/Chart.min.js"></script>

    </head>
    <body>


<canvas id="doughnut68" width=auto height="250"></canvas>
<script>

Chart.defaults.global.responsive = true
Chart.defaults.global.maintainAspectRatio = true
Chart.defaults.global.legend.display= true
Chart.defaults.global.responsive = true
Chart.defaults.global.defaultFontFamily = 'sans-serif'
Chart.defaults.global.defaultFontSize = 14


Chart.pluginService.register({
    beforeDraw: function (chart) {
        var width = chart.chart.width,
            height = chart.chart.height,
            ctx = chart.chart.ctx;
        ctx.restore();
        var fontSize = (height / 150).toFixed(2);
        ctx.font = fontSize + "em sans-serif";
        ctx.textBaseline = "middle";
        var text = chart.config.options.elements.center.text,
            textX = Math.round((width - ctx.measureText(text).width) / 2),
            textY = height / 1.55;
        ctx.fillText(text, textX, textY);
        ctx.save();
    }
});

// chart1
var data = {
    labels: ["Renewables","Other","Hydropower","Nuclear","Fossil Fuels"],
    datasets: [{
        label: 'Energy By Source',
            backgroundColor:["#D05D4E","#F59F00","#228AE6","#12B886","#23417D"],
            borderColor: "#eeeeee",
            borderWidth: 1,
            hoverBackgroundColor: "#9E9E9E",
            hoverBorderColor: "#eeeeee",
            data: [2, 3, 5, 25, 65]
    }]
};

Chart.Legend.prototype.afterFit = function() {
    this.height = this.height + 60;
};

var promisedDeliveryChart = new Chart(document.getElementById('doughnut68'), {
    type: 'doughnut',
    data: data,
    options: {
        elements: {
            center: {
                text: 'NYC'  //set as you wish
            }
        },
        cutoutPercentage: 55,
        legend: {
            display: true,
            onClick: null,
            labels: {
              boxWidth: 25,
              fontSize: 18
          }
        },
      tooltips: {
      displayColors: false,
          callbacks: {
            label: function(tooltipItem, data) {
              return data.labels[tooltipItem.index]  + ': '+data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index].toLocaleString('en-US')+'%';
            }
          }
      }
    }
});

</script>
    </body>
</html>
